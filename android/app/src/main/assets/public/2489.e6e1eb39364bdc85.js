"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2489],{2489:(et,_,a)=>{a.r(_),a.d(_,{DashboardModule:()=>V});var d=a(6814),h=a(9068),m=a(553),t=a(5879),u=a(8967),b=a(8285),x=a(5303),l=a(9843),v=a(7960),C=a(723),D=a(9692),M=a(6101),Z=a(1243),O=a(2341),T=a(3999);const S=["flash_template"];function w(i,o){1&i&&(t.TgZ(0,"ion-header",16)(1,"ion-toolbar")(2,"ion-buttons",17)(3,"ion-menu-button"),t._UZ(4,"ion-icon",18),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()),2&i&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("ios","menu-sharp")("md","menu-sharp"),t.xp6(2),t.Oqu(t.lcZ(7,4,"dashboard")))}function P(i,o){1&i&&(t.TgZ(0,"ion-header",19)(1,"ion-toolbar",20)(2,"ion-buttons",17)(3,"ion-menu-button"),t._UZ(4,"ion-icon",21),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()),2&i&&(t.xp6(4),t.Q6J("ios","menu-sharp")("md","menu-sharp"),t.xp6(2),t.Oqu(t.lcZ(7,3,"dashboard")))}function A(i,o){if(1&i&&t._UZ(0,"img",22),2&i){const n=t.oxw();t.Q6J("src",n.storage.get(n.ADNO+"img"),t.LSH)}}function k(i,o){1&i&&t._UZ(0,"img",23)}const y=function(i){return{filter:i}};function N(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"ion-col",24)(1,"div",25)(2,"div",26),t.NdJ("click",function(){const r=t.CHM(n).$implicit,g=t.oxw();return t.KtG(g.go(r.url))}),t.TgZ(3,"div",27),t._UZ(4,"img",28),t.qZA(),t.TgZ(5,"div",29)(6,"p",30),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()()}if(2&i){const n=o.$implicit;t.xp6(4),t.Q6J("src",n.icon,t.LSH)("ngStyle",t.VKq(5,y,n.filter)),t.xp6(3),t.Oqu(t.lcZ(8,3,n.title))}}function I(i,o){if(1&i&&t._UZ(0,"img",40),2&i){const n=t.oxw().$implicit;t.s9C("src",n.base64,t.LSH)}}function Y(i,o){if(1&i&&t._UZ(0,"img",40),2&i){const n=t.oxw().$implicit;t.s9C("src",n.event_image,t.LSH)}}function J(i,o){if(1&i&&t._UZ(0,"source",43),2&i){const n=t.oxw(2).$implicit;t.s9C("src",n.base64,t.LSH)}}function U(i,o){if(1&i&&t._UZ(0,"source",43),2&i){const n=t.oxw(2).$implicit;t.s9C("src",n.event_image,t.LSH)}}function Q(i,o){if(1&i&&(t.TgZ(0,"div")(1,"audio",41),t.YNc(2,J,1,1,"source",42),t.YNc(3,U,1,1,"source",42),t.qZA()()),2&i){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",n.base64.length>0),t.xp6(1),t.Q6J("ngIf",0==n.base64.length)}}function z(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"div",46),t._uU(3),t.qZA(),t.TgZ(4,"div",47)(5,"button",48),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.authservice.open(s.event_image))}),t.TgZ(6,"div",49)(7,"div",50),t._UZ(8,"img",51),t.qZA(),t.TgZ(9,"div",52),t._uU(10,"Download"),t.qZA()()()()()()}if(2&i){const n=t.oxw().$implicit,e=t.oxw(2);t.xp6(3),t.hij(" ",e.getfilename(n.event_image)," ")}}function L(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"div",46),t._uU(3),t.qZA(),t.TgZ(4,"div",47)(5,"button",48),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.authservice.open(s.event_image))}),t.TgZ(6,"div",49)(7,"div",50),t._UZ(8,"img",53),t.qZA(),t.TgZ(9,"div",52),t._uU(10,"Download"),t.qZA()()()()()()}if(2&i){const n=t.oxw().$implicit,e=t.oxw(2);t.xp6(3),t.hij(" ",e.getfilename(n.event_image)," ")}}function q(i,o){if(1&i&&(t.TgZ(0,"ion-card",33)(1,"div",34)(2,"div",35),t._uU(3),t.qZA(),t.TgZ(4,"div",10),t._uU(5,"Message From Admin"),t.qZA(),t._UZ(6,"div",36),t.qZA(),t.YNc(7,I,1,1,"img",37),t.YNc(8,Y,1,1,"img",37),t.YNc(9,Q,4,2,"div",38),t.YNc(10,z,11,1,"div",39),t.YNc(11,L,11,1,"div",39),t.qZA()),2&i){const n=o.$implicit,e=t.oxw(2);t.xp6(3),t.Oqu(n.SMSdate),t.xp6(3),t.Q6J("innerHTML",e.authservice.urlify(n.message),t.oJD),t.xp6(1),t.Q6J("ngIf",e.checkimage(n.event_image)&&n.base64.length>0),t.xp6(1),t.Q6J("ngIf",e.checkimage(n.event_image)&&0==n.base64.length),t.xp6(1),t.Q6J("ngIf",e.checkmp3(n.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkpdf(n.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkxls(n.event_image))}}function F(i,o){if(1&i&&(t.TgZ(0,"div",31),t.YNc(1,q,12,7,"ion-card",32),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.storeSMSDetails)}}function H(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"div",58)(3,"h4",59),t._uU(4),t.qZA()(),t.TgZ(5,"div",60)(6,"button",61),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.close())}),t.TgZ(7,"span",62),t._uU(8,"\xd7"),t.qZA()()()()()}if(2&i){const n=t.oxw(2);t.xp6(4),t.Oqu(n.flashData[n.flashindex].Title)}}function $(i,o){if(1&i&&(t.TgZ(0,"div",63),t._UZ(1,"img",64),t.TgZ(2,"p",65),t._uU(3),t.qZA()()),2&i){const n=t.oxw(2);t.xp6(1),t.ekj("d-none",0==n.flashData[n.flashindex].event_image.length),t.Q6J("src",n.flashData[n.flashindex].event_image,t.LSH),t.xp6(2),t.hij(" ",n.flashData[n.flashindex].Discription," ")}}function j(i,o){if(1&i&&(t.YNc(0,H,9,1,"div",54),t.YNc(1,$,4,4,"div",55)),2&i){const n=t.oxw();t.Q6J("ngIf",n.flashData.length>0&&n.flashData.length>n.flashindex),t.xp6(1),t.Q6J("ngIf",n.flashData.length>0&&n.flashData.length>n.flashindex)}}const G=[{path:"",component:(()=>{var i;class o{constructor(e,s,r,g,p,c,f,K,E,W,X,tt){this.modalService=e,this.iab=s,this.dataservice=r,this.platform=g,this.appMinimize=p,this.translate=c,this.router=f,this.route=K,this.authservice=E,this.storage=W,this.loading=X,this.serfile=tt,this.ios=!1,this.teachersDetail=this.storage.getjson("teachersDetail"),this.flashindex=0,this.disabledValue=!1,this.storeSMSDetails=[],this.ing=0,this.ADNO=0,this.appPages=m.N.pages,this.platform.backButton.subscribe(()=>{"dashboard"==this.storage.get("page")&&this.appMinimize.minimize()})}ngOnInit(){this.ios=this.authservice.isiso(),this.dataservice.currentMenustatus.subscribe(e=>{this.translate.set()}),this.getosversion(),this.flashmessage(),this.getSMSLogDetails()}go(e){this.router.navigate([e])}getosversion(){this.loading.present(),this.authservice.get("getosversion").subscribe(e=>{this.loading.dismissAll(),e.status&&e.data.length>0&&Number(e.data[0].version_code)>Number(m.N.version)&&(this.platform.is("ios"),this.platform.is("android"))&&(this.storage.clear(),this.iab.create("https://play.google.com/store/apps/details?id="+m.N.package,"_system",{zoom:"no"}).on("loadstart"))},e=>{this.loading.dismissAll(),console.log(e)})}openmodel(){this.flashData.length>this.flashindex?this.modalRef=this.modalService.show(this.flash_template):(this.storage.add("flash_close","ok"),this.storage.get("flash_close"))}close(){this.modalRef&&this.modalRef.hide(),this.flashindex=this.flashindex+1,this.openmodel()}flashmessage(){let e;this.flashData=new Array,this.authservice.post("getteacherflashmessage",{}).subscribe(s=>{e=s,console.log("result",e),e.status?(this.disabledValue=!1,this.flashData=e.data,this.flashindex=0,"Update"!=this.flashData[0].Title&&(this.openmodel(),this.disabledValue=!1)):(this.disabledValue=!0,this.storage.add("flash_close","ok"),this.openmodel())},s=>{this.storage.add("flash_close","ok"),this.openmodel()})}checkview(e){return"Y"==e&&"Y"!=this.teachersDetail[0].Is_Admin}getSMSLogDetails(){let e={staff_id:this.storage.getjson("teachersDetail")[0].staff_id,Is_Admin:this.teachersDetail[0].Is_Admin};this.loading.present(),this.authservice.post("getstaffmsg",e).subscribe(s=>{this.loading.dismissAll(),this.storeSMSDetails=s.data,this.ing=0,this.getbase64()},s=>{this.loading.dismissAll()})}getbase64(){try{if(this.ing<this.storeSMSDetails.length){this.storeSMSDetails[this.ing].filename="";let e=this.storeSMSDetails[this.ing].event_image;if(e&&e.length>0){let s=e.split("/"),r=s[s.length-1];this.storeSMSDetails[this.ing].filename=r,this.storeSMSDetails[this.ing].base64="";let g=this.serfile.checkfile(r);g?g.then(p=>{this.serfile.read(r).then(c=>{0!=c.split("base64,")[1].length?this.storeSMSDetails[this.ing].base64=c:(this.serfile.removefile(r),this.storeSMSDetails[this.ing].base64=""),this.ing=this.ing+1,this.getbase64()},c=>{this.ing=this.ing+1,this.getbase64(),console.log(c)})},p=>{console.log(p),this.authservice.post("getbase64",{url:encodeURI(e)}).subscribe(c=>{c&&(this.storeSMSDetails[this.ing].base64=c.data,console.log(this.storeSMSDetails[this.ing].base64),this.serfile.download(r,c.data),this.ing=this.ing+1,this.getbase64())},c=>{console.log(c),this.storeSMSDetails[this.ing].base64="",this.ing=this.ing+1,this.getbase64()})}):(this.storeSMSDetails[this.ing].base64="",this.ing=this.ing+1,this.getbase64())}else this.storeSMSDetails[this.ing].event_image="",this.storeSMSDetails[this.ing].base64="",this.ing=this.ing+1,this.getbase64()}}catch(e){console.log(e),this.storeSMSDetails[this.ing].base64="",this.ing=this.ing+1,this.getbase64()}}checkimage(e){return!e||(e=(e=e.split("."))[e.length-1].toLowerCase(),console.log(e),"pdf"!=e&&"mp3"!=e&&"xls"!=e&&"xlsx"!=e)}checkmp3(e){return!!e&&"mp3"==(e=e.split("."))[e.length-1].toLowerCase()}checkxls(e){return!!e&&("xls"==(e=(e=e.split("."))[e.length-1].toLowerCase())||"xlsx"==e)}checkpdf(e){return!!e&&"pdf"==(e=e.split("."))[e.length-1].toLowerCase()}getfilename(e){return(e=e.split("/"))[e.length-1]}}return(i=o).\u0275fac=function(e){return new(e||i)(t.Y36(u.tT),t.Y36(b.i),t.Y36(x.D),t.Y36(l.t4),t.Y36(v.d),t.Y36(C.w),t.Y36(h.F0),t.Y36(h.gz),t.Y36(D.e),t.Y36(M.V),t.Y36(Z.b),t.Y36(O.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard"]],viewQuery:function(e,s){if(1&e&&t.Gf(S,5),2&e){let r;t.iGM(r=t.CRH())&&(s.flash_template=r.first)}},decls:21,vars:9,consts:[[3,"translucent",4,"ngIf"],[3,"fullscreen"],["collapse","condense","class","mt-4",4,"ngIf"],[1,"dashcard"],[1,"dashcardContent"],[2,"padding","8px"],["size","3"],["class","img-thumbnail dash",3,"src",4,"ngIf"],["class","img-thumbnail dash","src","../../assets/imgs/student.png",4,"ngIf"],["size","9"],[1,"name"],[1,"staffCode"],[1,"align-items-center"],["size","4",4,"ngFor","ngForOf"],["class","teachercirculars",4,"ngIf"],["flash_template",""],[3,"translucent"],["slot","start"],[1,"menuIcon",3,"ios","md"],["collapse","condense",1,"mt-4"],[1,"p-0"],[1,"text-white",3,"ios","md"],[1,"img-thumbnail","dash",3,"src"],["src","../../assets/imgs/student.png",1,"img-thumbnail","dash"],["size","4"],[1,"text-center"],[1,"row",3,"click"],[1,"imgBg"],[1,"icon-img",3,"src","ngStyle"],[1,"col-12"],[1,"iconTitle"],[1,"teachercirculars"],["class","borbot",4,"ngFor","ngForOf"],[1,"borbot"],[1,"message"],[1,"date"],[1,"multi_lines_text",3,"innerHTML"],["class","card-img-top","alt","",3,"src",4,"ngIf"],[4,"ngIf"],["class","card-header",4,"ngIf"],["alt","",1,"card-img-top",3,"src"],["controls","","controlsList","noplaybackrate nodownload"],["type","audio/mpeg",3,"src",4,"ngIf"],["type","audio/mpeg",3,"src"],[1,"card-header"],[1,"row","w-100","align-items-center","m-0"],[1,"col-6"],[1,"col-6","text-right","m-0","p-0"],["type","button",1,"btn","btn-primary","m-0","px-0",3,"click"],[1,"row","w-100","align-items-center"],[1,"col-6","w-100","mx-0","px-0"],["src","../../assets/imgs/speakers/pdf.png",1,"w-50","m-auto"],[1,"col-6","mx-0","px-0"],["src","../../assets/imgs/speakers/xls.png",1,"w-50","m-auto"],["class","modal-header",4,"ngIf"],["class","modal-body",4,"ngIf"],[1,"modal-header"],[1,"row","align-items-center","w-100"],[1,"col-10"],[1,"modal-title","pull-left"],[1,"col-2","text-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],["alt","",3,"src"],[1,"text-center","multi_lines_text"]],template:function(e,s){1&e&&(t.YNc(0,w,8,6,"ion-header",0),t.TgZ(1,"ion-content",1),t.YNc(2,P,8,5,"ion-header",2),t.TgZ(3,"ion-card",3)(4,"ion-card-content",4)(5,"ion-grid")(6,"ion-row",5)(7,"ion-col",6),t.YNc(8,A,1,1,"img",7),t.YNc(9,k,1,0,"img",8),t.qZA(),t.TgZ(10,"ion-col",9)(11,"p",10),t._uU(12),t.qZA(),t.TgZ(13,"p",11),t._uU(14),t.qZA()()()()()(),t.TgZ(15,"ion-grid")(16,"ion-row",12),t.YNc(17,N,9,7,"ion-col",13),t.qZA()(),t.YNc(18,F,2,1,"div",14),t.qZA(),t.YNc(19,j,2,2,"ng-template",null,15,t.W1O)),2&e&&(t.Q6J("ngIf",!s.ios),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",s.ios),t.xp6(6),t.Q6J("ngIf",s.storage.get(s.ADNO+"img")),t.xp6(1),t.Q6J("ngIf",!s.storage.get(s.ADNO+"img")),t.xp6(3),t.Oqu(s.teachersDetail[0].firstname),t.xp6(2),t.hij(" Staff Code: ",s.teachersDetail[0].staff_id," "),t.xp6(3),t.Q6J("ngForOf",s.appPages),t.xp6(1),t.Q6J("ngIf",s.storeSMSDetails.length>0))},dependencies:[d.sg,d.O5,d.PC,l.Sm,l.PM,l.FN,l.wI,l.W2,l.jY,l.Gu,l.gu,l.fG,l.Nd,l.wd,l.sr,T.X$],styles:[".blink_me[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blinker 1s linear infinite;text-align:center;color:#0cc}@keyframes _ngcontent-%COMP%_blinker{50%{opacity:0}}.dashboard-menu[_ngcontent-%COMP%]{margin:0!important}.dashboard-menu[_ngcontent-%COMP%]   .col-4[_ngcontent-%COMP%]{height:10vh!important}.dashboard-menu[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0;margin:0}.dashboard-menu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;padding:0;margin:2% 0;font-weight:500}.dashboard-menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.dashboard-menu[_ngcontent-%COMP%]   .homework[_ngcontent-%COMP%]{width:60%!important}.dashboard_avatar[_ngcontent-%COMP%]{margin:auto}.bgcol_0[_ngcontent-%COMP%]{background:#e98484!important}.teachercirculars[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:3% 0 0;padding:3%}.teachercirculars[_ngcontent-%COMP%]   .borbot[_ngcontent-%COMP%]{border-left:5px solid rgb(252,29,215)}.teachercirculars[_ngcontent-%COMP%]   .borbot[_ngcontent-%COMP%]:nth-of-type(odd){border-left:5px solid rgb(163,29,252)}.teachercirculars[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:#fff}.teachercirculars[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{border-radius:0 0 10px 10px}.teachercirculars[_ngcontent-%COMP%]   .dm[_ngcontent-%COMP%]{text-align:center;float:left;width:12%;margin-left:3%;margin-top:3%;margin-right:8%}.teachercirculars[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:red;float:right}.teachercirculars[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:100%;font-size:12px;float:left;color:#000;background-color:transparent;line-height:3ex;-webkit-user-select:text;user-select:text;margin-top:3%}.teachercirculars[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:12px;color:red}audio[_ngcontent-%COMP%]{width:100%}audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:gray;color:#fff}.dashcard[_ngcontent-%COMP%]{border-radius:20px;margin:25px;background-color:#fff}.dashcardContent[_ngcontent-%COMP%]{padding:0;margin:-5px}.img-thumbnail.dash[_ngcontent-%COMP%]{border-radius:50px;padding:0;height:55px;width:55px}.name[_ngcontent-%COMP%]{color:#45406e;font-weight:600;font-family:roboto;font-size:14.5px}.staffCode[_ngcontent-%COMP%]{color:#45406e;font-weight:500;font-family:roboto;font-size:13.5px;line-height:2em}.iconTitle[_ngcontent-%COMP%]{font-family:roboto;margin-top:.15rem!important;font-size:14px;font-weight:600;color:#45406e}ion-content[_ngcontent-%COMP%]{--background: url(dashboardbg.dd09ef2c82baf262.png) no-repeat center/cover fixed}.imgBg[_ngcontent-%COMP%]{line-height:60px;width:65px;height:65px;margin:0 auto;background:url(round.d236055186e563fa.png) no-repeat!important}"]}),o})()}];let R=(()=>{var i;class o{}return(i=o).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.Bz.forChild(G),h.Bz]}),o})();var B=a(2629);let V=(()=>{var i;class o{}return(i=o).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,R,l.Pc,B.b]}),o})()}}]);