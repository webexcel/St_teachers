"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2352],{2352:(Y,u,a)=>{a.r(u),a.d(u,{LoginModule:()=>D});var h=a(6814),m=a(9068),f=a(5861);const p=(0,a(2726).fo)("Device",{web:()=>a.e(7116).then(a.bind(a,7116)).then(o=>new o.DeviceWeb)});var c=a(553),e=a(5879),v=a(9843),M=a(7960),b=a(1243),O=a(723),y=a(5303),w=a(9692),P=a(6101),d=a(6223),_=a(3999);function A(o,l){1&o&&(e.TgZ(0,"span",20),e._uU(1,"Enter Username"),e.qZA())}function Z(o,l){1&o&&(e.TgZ(0,"span",20),e._uU(1,"Enter Password"),e.qZA())}const C=function(o){return{"border-danger":o}},L=[{path:"",component:(()=>{var o;class l{constructor(n,t,i,s,r,I,z,J,B){this.platform=n,this.appMinimize=t,this.loading=i,this.translate=s,this.dataservice=r,this.router=I,this.authservice=z,this.storage=J,this.alertCtrl=B,this.logo=c.N.login_logo,this.school_name=c.N.school_name,this.authForm={},this.app_versionCode=c.N.app_versionCode,this.teachersDetail=[],this.platform.backButton.subscribe(()=>{"login"==this.storage.get("page")&&this.appMinimize.minimize()})}ngOnInit(){this.translate.set(),this.translate.getparam("username").then(n=>this.usernametr=n),this.translate.getparam("password").then(n=>this.passwordtr=n)}replaceholderusername(n){n.target.placeholder=this.usernametr}replaceholderpassword(n){n.target.placeholder=this.passwordtr}submitForm(){var n=this;return(0,f.Z)(function*(){n.loading.present(),n.app_versionCode=c.N.app_versionCode;const t=yield p.getInfo();let i={platform_type:t.platform,manufacturer_name:t.manufacturer,manufacturer_model:t.model,os_version:t.osVersion,deviceid:yield p.getId(),username:n.authForm.username,password:n.authForm.password,app_version_code:n.app_versionCode};n.authservice.post("userLogin",i).subscribe(s=>{n.loading.dismissAll(),s.status&&s.data.length>0&&(n.teachersDetail=s.data,n.storage.addjson("teachersDetail",s.data),n.mobileinstall())},s=>{n.loading.dismissAll()})})()}getClass(){this.loading.present(),this.authservice.post("getclass",{Is_Admin:this.teachersDetail[0].Is_Admin,staff_id:this.teachersDetail[0].staff_id}).subscribe(t=>{this.loading.dismissAll(),this.storage.addjson("classlist",t.status?t.data:[]),this.dataservice.changeMenustatus(!0),this.router.navigate([""])},t=>{this.storage.addjson("classlist",[]),this.loading.dismissAll(),console.log(t)})}updateFireBaseID(){let t={firebase_id:this.storage.get("fireBaseID"),staff_id:this.teachersDetail[0].staff_id};this.authservice.post("updateFirebaseId",t).subscribe(i=>{i.status?this.getClass():this.loading.dismissAll()},i=>{this.loading.dismissAll()})}mobileinstall(){var n=this;return(0,f.Z)(function*(){n.loading.present(),n.app_versionCode=c.N.app_versionCode;const t=yield p.getInfo();let i={platform_type:t.platform,manufacturer_name:t.manufacturer,manufacturer_model:t.model,os_version:t.osVersion,deviceid:yield p.getId(),staff_id:n.teachersDetail[0].staff_id,app_version_code:n.app_versionCode};n.authservice.post("mobileinstallsnew",i).subscribe(s=>{1==s.status&&n.updateFireBaseID(),n.loading.dismissAll()},s=>{n.loading.dismissAll()})})()}}return(o=l).\u0275fac=function(n){return new(n||o)(e.Y36(v.t4),e.Y36(M.d),e.Y36(b.b),e.Y36(O.w),e.Y36(y.D),e.Y36(m.F0),e.Y36(w.e),e.Y36(P.V),e.Y36(v.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:27,vars:17,consts:[[1,"header"],[1,"inner-header","flex"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 24 150 28","preserveAspectRatio","none","shape-rendering","auto",1,"waves"],["id","gentle-wave","d","M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"],[1,"parallax"],[0,"xlink","href","#gentle-wave","x","48","y","0","fill","rgba(255,255,255,0.7"],[0,"xlink","href","#gentle-wave","x","48","y","3","fill","rgba(255,255,255,0.5)"],[0,"xlink","href","#gentle-wave","x","48","y","5","fill","rgba(255,255,255,0.3)"],[0,"xlink","href","#gentle-wave","x","48","y","7","fill","#fff"],[1,"card","p-2","bg-white","rounded","shadow-lg"],[1,"card-img-top",3,"src"],[1,"content","flex"],["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],["type","text","name","username","onfocus","this.placeholder = ''","required","",1,"border",3,"placeholder","ngModel","ngClass","blur","ngModelChange"],["username","ngModel"],["class","text-danger",4,"ngIf"],["type","password","name","password","onfocus","this.placeholder = ''","required","",1,"border",3,"placeholder","ngModel","ngClass","blur","ngModelChange"],["password","ngModel"],["type","submit",1,"login-btn"],[1,"text-danger"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"div"),e.O4$(),e.TgZ(5,"svg",2)(6,"defs"),e._UZ(7,"path",3),e.qZA(),e.TgZ(8,"g",4),e._UZ(9,"use",5)(10,"use",6)(11,"use",7)(12,"use",8),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",9),e._UZ(14,"img",10),e.qZA(),e.TgZ(15,"div",11)(16,"form",12,13),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(17);return e.KtG(r.form.valid&&t.submitForm())}),e.TgZ(18,"input",14,15),e.NdJ("blur",function(r){return t.replaceholderusername(r)})("ngModelChange",function(r){return t.authForm.username=r}),e.qZA(),e.YNc(20,A,2,0,"span",16),e.TgZ(21,"input",17,18),e.NdJ("blur",function(r){return t.replaceholderpassword(r)})("ngModelChange",function(r){return t.authForm.password=r}),e.qZA(),e.YNc(23,Z,2,0,"span",16),e.TgZ(24,"button",19),e._uU(25),e.ALo(26,"translate"),e.qZA()()()}if(2&n){const i=e.MAs(17),s=e.MAs(19),r=e.MAs(22);e.xp6(3),e.Oqu(t.school_name),e.xp6(11),e.Q6J("src",t.logo,e.LSH),e.xp6(4),e.s9C("placeholder",t.usernametr),e.Q6J("ngModel",t.authForm.username)("ngClass",e.VKq(13,C,i.submitted&&s.invalid)),e.xp6(2),e.Q6J("ngIf",i.submitted&&s.invalid),e.xp6(1),e.s9C("placeholder",t.passwordtr),e.Q6J("ngModel",t.authForm.password)("ngClass",e.VKq(15,C,i.submitted&&r.invalid)),e.xp6(2),e.Q6J("ngIf",i.submitted&&r.invalid),e.xp6(2),e.Oqu(e.lcZ(26,11,"login"))}},dependencies:[h.mk,h.O5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.On,d.F,_.X$],styles:[".card[_ngcontent-%COMP%]{width:40%;margin:10% auto auto!important}h3[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:600;letter-spacing:2px;font-size:32px}p[_ngcontent-%COMP%]{font-family:Lato,sans-serif;letter-spacing:1px;font-size:14px;color:#333}.header[_ngcontent-%COMP%]{position:relative;text-align:center;background:linear-gradient(60deg,#00CCCC 0%,#00CCCC 100%);color:#fff}.inner-header[_ngcontent-%COMP%]{height:20vh;width:100%;margin:0;padding:0}.flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}.bottom-container[_ngcontent-%COMP%]{display:flex;align-items:center}a[_ngcontent-%COMP%]{text-decoration:none;margin:0 5px;font-family:Montserrat,sans-serif;letter-spacing:0px;font-size:14px;font-weight:600;color:#32cd32}.waves[_ngcontent-%COMP%]{position:relative;width:100%;height:15vh;margin-bottom:-7px;min-height:100px;max-height:150px}.content[_ngcontent-%COMP%]{position:relative;height:100%;text-align:center;background-color:#fff}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_move-forever 25s cubic-bezier(.55,.5,.45,.5) infinite}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(1){animation-delay:-2s;animation-duration:7s}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(2){animation-delay:-3s;animation-duration:10s}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(3){animation-delay:-4s;animation-duration:13s}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(4){animation-delay:-5s;animation-duration:20s}@keyframes _ngcontent-%COMP%_move-forever{0%{transform:translate3d(-90px,0,0)}to{transform:translate3d(85px,0,0)}}@media (max-width: 768px){.waves[_ngcontent-%COMP%]{height:40px;min-height:40px}.content[_ngcontent-%COMP%]{height:70vh}h1[_ngcontent-%COMP%]{font-size:24px}}form[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;flex-direction:column;padding:10px;margin:10px}input[_ngcontent-%COMP%]{width:80%;padding:8px;margin:10px;height:32px;font-size:1rem;border:none;box-shadow:0 0 15px #0003;border-radius:25px;outline:none;text-align:center}.login-btn[_ngcontent-%COMP%]{font-size:1rem;border:none;height:44px;width:40%;margin:20px 10px;border-radius:25px;background-color:#0cc;color:#fff}button[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #0000004d}"]}),l})()}];let F=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(L),m.Bz]}),l})();var T=a(2629);let D=(()=>{var o;class l{}return(o=l).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.ez,F,d.u5,T.b]}),l})()}}]);