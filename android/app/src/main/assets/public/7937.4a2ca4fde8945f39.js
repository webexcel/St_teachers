"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7937],{7937:(X,h,c)=>{c.r(h),c.d(h,{FlashModule:()=>L});var p=c(6814),g=c(6223),a=c(9843),u=c(1021),f=c(2629),m=c(9068),x=c(5861),t=c(5879),b=c(6593),C=c(9322),Z=c(465),T=c(1243),F=c(9692),v=c(6101),M=c(9716),A=c(3999);const J=["portComponent"];function w(n,l){1&n&&(t.TgZ(0,"ion-header",29)(1,"ion-toolbar")(2,"ion-buttons",30)(3,"ion-menu-button"),t._UZ(4,"ion-icon",31),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Flash Message"),t.qZA()()()),2&n&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("ios","menu-sharp")("md","menu-sharp"))}function D(n,l){1&n&&(t.TgZ(0,"ion-header",32)(1,"ion-toolbar",33)(2,"ion-buttons",30)(3,"ion-menu-button"),t._UZ(4,"ion-icon",34),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Flash Message"),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ios","menu-sharp")("md","menu-sharp"))}function y(n,l){1&n&&(t.TgZ(0,"span",35),t._uU(1,"Enter Title"),t.qZA())}function k(n,l){1&n&&(t.TgZ(0,"span",35),t._uU(1,"Enter Description"),t.qZA())}function Y(n,l){if(1&n&&(t.TgZ(0,"ion-label",36)(1,"span",37),t._uU(2,"Start Date"),t.qZA(),t.TgZ(3,"span",38),t._uU(4),t.qZA()()),2&n){const s=t.oxw();t.xp6(4),t.Oqu(s.formatDate(s.details.startdate))}}function I(n,l){if(1&n){const s=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",30)(3,"ion-button",39),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.cancel_date())}),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"ion-title"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"ion-buttons",40)(10,"ion-button",41),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.confirm_date())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.TgZ(13,"ion-content",42)(14,"ion-datetime",43,44),t.NdJ("ngModelChange",function(e){t.CHM(s);const o=t.oxw();return t.KtG(o.details.startdate=e)})("ionChange",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.showHideDatePicker())}),t.qZA()()}if(2&n){const s=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"cancel")),t.xp6(3),t.Oqu(t.lcZ(8,7,"select_date")),t.xp6(3),t.Q6J("strong",!0),t.xp6(1),t.Oqu(t.lcZ(12,9,"confirm")),t.xp6(3),t.Q6J("ngModel",s.details.startdate)}}function Q(n,l){if(1&n){const s=t.EpF();t.TgZ(0,"ion-label",45),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.toggleDateSelection())}),t.TgZ(1,"span",37),t._uU(2,"End Date"),t.qZA(),t.TgZ(3,"span",38),t._uU(4),t.qZA()()}if(2&n){const s=t.oxw();t.xp6(4),t.Oqu(s.formatDate(s.details.enddate))}}function N(n,l){if(1&n){const s=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",30)(3,"ion-button",39),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.toggleDateSelection())}),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"ion-title"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"ion-buttons",40)(10,"ion-button",41),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.toggleDateSelection())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.TgZ(13,"ion-content",42)(14,"ion-datetime",43,44),t.NdJ("ngModelChange",function(e){t.CHM(s);const o=t.oxw();return t.KtG(o.details.enddate=e)})("ionChange",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.showHideDatePicker())}),t.qZA()()}if(2&n){const s=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"cancel")),t.xp6(3),t.Oqu(t.lcZ(8,7,"select_date")),t.xp6(3),t.Q6J("strong",!0),t.xp6(1),t.Oqu(t.lcZ(12,9,"confirm")),t.xp6(3),t.Q6J("ngModel",s.details.enddate)}}function U(n,l){1&n&&t._UZ(0,"img",46)}function q(n,l){if(1&n&&t._UZ(0,"img",47),2&n){const s=t.oxw();t.Q6J("src",s.details.image,t.LSH)}}function O(n,l){if(1&n){const s=t.EpF();t.TgZ(0,"img",48),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.open())}),t.qZA()}}function S(n,l){if(1&n){const s=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.deletefile())}),t._UZ(1,"ion-icon",31),t.qZA()}2&n&&(t.xp6(1),t.Q6J("ios","trash-sharp")("md","trash-sharp"))}function G(n,l){1&n&&(t.TgZ(0,"div",50),t._uU(1," only allow jpg, jpeg, png. "),t.qZA())}function H(n,l){if(1&n){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t._UZ(3,"br"),t._uU(4),t._UZ(5,"br"),t._uU(6),t._UZ(7,"br")(8,"img",59)(9,"br")(10,"br"),t.TgZ(11,"button",60),t.NdJ("click",function(){const o=t.CHM(s).$implicit,r=t.oxw(3);return t.KtG(r.delete(o.nid))}),t._UZ(12,"ion-icon",34),t._uU(13," Delete "),t.qZA()()()}if(2&n){const s=l.$implicit;t.xp6(2),t.hij(" Title: ",s.Title,""),t.xp6(2),t.hij(" Description: ",s.Discription,""),t.xp6(2),t.AsE(" Date: ",s.start_date," - ",s.NewsADate,""),t.xp6(2),t.s9C("src",s.event_image,t.LSH),t.xp6(4),t.Q6J("ios","trash-sharp")("md","trash-sharp")}}function P(n,l){if(1&n&&(t.TgZ(0,"table",57)(1,"tbody"),t.YNc(2,H,14,7,"tr",58),t.qZA()()),2&n){const s=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",s.flashlist)}}function K(n,l){if(1&n&&(t.TgZ(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54),t._uU(4,"Flash Message List"),t.qZA()()(),t.TgZ(5,"div",55),t.YNc(6,P,3,1,"table",56),t.qZA()()),2&n){const s=t.oxw();t.xp6(6),t.Q6J("ngIf",s.flashlist.length)}}const _=function(){return[0,.25,.5,.75]},j=[{path:"",component:(()=>{var n;class l{constructor(i,e,o,r,d,B,$,z,R,W){this.alertCtrl=i,this.sanitizer=e,this.filePath=o,this.base64=r,this.loading=d,this.authservice=B,this.storage=$,this.platform=z,this.router=R,this.fileChooser=W,this.ios=!1,this.classs=[],this.details={},this.error=!1,this.flashlist=[],this.showDatePicker=!1,this.isPickerOpen=!1,this.platform.backButton.subscribe(()=>{this.router.navigate(["/dashboard"])})}ngOnInit(){this.ios=this.authservice.isiso(),this.classs=this.storage.getjson("classlist"),this.details.staff_code=this.storage.getjson("teachersDetail")[0].staff_id,this.details.enddate=(new Date).toISOString(),this.details.startdate=(new Date).toISOString(),this.details.image="",this.details.type="",this.flashmessage()}flashmessage(){let i;this.loading.present(),this.authservice.post("getflashmessage",{}).subscribe(e=>{this.loading.dismissAll(),i=e,i.status&&(this.flashlist=i.data),console.log(this.flashlist)},e=>{this.loading.dismissAll()})}toggleItems(i){i?(this.portComponent.toggleItems(!1),this.portComponent.toggleItems(i),this.confirm()):this.portComponent.toggleItems(i)}confirm(){this.portComponent.confirm(),this.portComponent.close()}onSubmit(){console.log(this.details),this.loading.present(),this.authservice.post("saveflase",this.details).subscribe(i=>{this.loading.dismissAll(),i.status&&(this.flashmessage(),this.show("Flash saved  Successfully"))},i=>{this.loading.dismissAll(),console.log(i)})}open(){this.fileChooser.open().then(i=>{console.log(i),this.filePath.resolveNativePath(i).then(e=>{let o=e.split(".");o=o[o.length-1].toLowerCase(),"jpg"==o||"jpeg"==o||"png"==o?(this.details.type=o,this.error=!1,o=`data:image/${o};base64,`,this.base64.encodeFile(e).then(r=>{this.details.image=this.sanitizer.bypassSecurityTrustUrl(o+r.split("ase64,")[1])},r=>{console.log(r)})):this.error=!0},e=>{console.log(e)})}).catch(i=>console.log(i))}delete(i){this.loading.present(),this.authservice.post("deleteflase",{nid:i}).subscribe(e=>{this.loading.dismissAll(),e.status&&(this.flashmessage(),this.show("Flash deleted  Successfully"))},e=>{this.loading.dismissAll(),console.log(e)})}deletefile(){this.details.image="",this.details.type=""}show(i){var e=this;return(0,x.Z)(function*(){yield(yield e.alertCtrl.create({header:i,buttons:[{text:"Cancel",role:"cancel",handler:r=>{console.log("Cancel clicked")}}]})).present()})()}showHideDatePicker(){this.showDatePicker=!this.showDatePicker}formatDate(i=new Date){const e=new Date(i),o=e.getFullYear();let r=`${e.getMonth()+1}`,d=`${e.getDate()}`;return+d<10&&(d="0"+d),+r<10&&(r="0"+r),d+"/"+r+"/"+o}cancel_date(){this.modal.dismiss(null,"confirm")}confirm_date(){console.log("confirm"),this.modal.dismiss(null,"confirm")}toggleDateSelection(){this.isPickerOpen=!this.isPickerOpen}onWillDismiss(i,e){"cancel"===i.detail.role&&("first"==e?this.details.startdate=null:this.details.enddate=null)}}return(n=l).\u0275fac=function(i){return new(i||n)(t.Y36(a.Br),t.Y36(b.H7),t.Y36(C.y),t.Y36(Z.D),t.Y36(T.b),t.Y36(F.e),t.Y36(v.V),t.Y36(a.t4),t.Y36(m.F0),t.Y36(M.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-flash"]],viewQuery:function(i,e){if(1&i&&(t.Gf(J,5),t.Gf(a.ki,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.portComponent=o.first),t.iGM(o=t.CRH())&&(e.modal=o.first)}},decls:41,vars:22,consts:[[3,"translucent",4,"ngIf"],[3,"fullscreen"],["collapse","condense","class","mt-4",4,"ngIf"],[1,"card","m-3","shadow-lg"],[1,"card-body","card_body"],["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],["position","floating"],["type","text","name","title","required","",3,"ngModel","ngModelChange"],["title","ngModel"],["class","text-danger",4,"ngIf"],["type","text","name","description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["lines","full"],["id","open-modal","class","selected-date",4,"ngIf"],["trigger","open-modal","animated","true",3,"initialBreakpoint","breakpoints","willDismiss"],["id","open-modal1","class","selected-date",3,"click",4,"ngIf"],["animated","true",3,"isOpen","initialBreakpoint","breakpoints","willDismiss"],[1,"row","w-100","align-items-center","text-center"],[1,"col-8"],["class","w-100","src","../../assets/imgs/speakers/image.png",4,"ngIf"],["class","w-100",3,"src",4,"ngIf"],[1,"col-4"],["alt","","style","width: 30px","src","../../assets/imgs/speakers/attachment.png",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["class","col-12 text-danger",4,"ngIf"],["padding",""],["type","submit",1,"btn","btn-primary"],["class","cardlist",4,"ngIf"],[3,"translucent"],["slot","start"],[3,"ios","md"],["collapse","condense",1,"mt-4"],[1,"p-0"],[1,"text-white",3,"ios","md"],[1,"text-danger"],["id","open-modal",1,"selected-date"],[2,"float","left"],[2,"float","right"],[3,"click"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],["name","dob","displayFormat","DD/MM/YYYY","pickerFormat","DD/MM/YYYY","presentation","date","mode","md","required","",3,"ngModel","ngModelChange","ionChange"],["dob","ngModel","datetime",""],["id","open-modal1",1,"selected-date",3,"click"],["src","../../assets/imgs/speakers/image.png",1,"w-100"],[1,"w-100",3,"src"],["alt","","src","../../assets/imgs/speakers/attachment.png",2,"width","30px",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","text-danger"],[1,"cardlist"],[1,"card-header","py-1"],[1,"row","align-items-center"],[1,"col"],[1,"card-body","card_body","border","border-primary","p-0","bodytable"],["class","table table-bordered w-100",4,"ngIf"],[1,"table","table-bordered","w-100"],[4,"ngFor","ngForOf"],["alt","",1,"w-100",3,"src"],[1,"btn","btn-danger",3,"click"]],template:function(i,e){if(1&i){const o=t.EpF();t.YNc(0,w,7,3,"ion-header",0),t.TgZ(1,"ion-content",1),t.YNc(2,D,7,2,"ion-header",2),t.TgZ(3,"div",3)(4,"div",4)(5,"form",5,6),t.NdJ("ngSubmit",function(){t.CHM(o);const d=t.MAs(6);return t.KtG(d.form.valid&&e.onSubmit())}),t.TgZ(7,"ion-list")(8,"ion-item")(9,"ion-label",7),t._uU(10,"Title"),t.qZA(),t.TgZ(11,"ion-input",8,9),t.NdJ("ngModelChange",function(d){return e.details.title=d}),t.qZA()(),t.YNc(13,y,2,0,"span",10),t.TgZ(14,"ion-item")(15,"ion-label",7),t._uU(16,"Description"),t.qZA(),t.TgZ(17,"ion-textarea",11,12),t.NdJ("ngModelChange",function(d){return e.details.description=d}),t.qZA()(),t.YNc(19,k,2,0,"span",10),t.TgZ(20,"ion-item",13),t.YNc(21,Y,5,1,"ion-label",14),t.TgZ(22,"ion-modal",15),t.NdJ("willDismiss",function(d){return e.onWillDismiss(d,"first")}),t.YNc(23,I,17,11,"ng-template"),t.qZA()(),t.TgZ(24,"ion-item",13),t.YNc(25,Q,5,1,"ion-label",16),t.TgZ(26,"ion-modal",17),t.NdJ("willDismiss",function(d){return e.onWillDismiss(d,"second")}),t.YNc(27,N,17,11,"ng-template"),t.qZA()(),t.TgZ(28,"ion-item")(29,"div",18)(30,"div",19),t.YNc(31,U,1,0,"img",20),t.YNc(32,q,1,1,"img",21),t.qZA(),t.TgZ(33,"div",22),t.YNc(34,O,1,0,"img",23),t.YNc(35,S,2,2,"button",24),t.qZA(),t.YNc(36,G,2,0,"div",25),t.qZA()()(),t.TgZ(37,"div",26)(38,"button",27),t._uU(39,"Save"),t.qZA()()()()(),t.YNc(40,K,7,1,"div",28),t.qZA()}if(2&i){const o=t.MAs(6),r=t.MAs(12),d=t.MAs(18);t.Q6J("ngIf",!e.ios),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",e.ios),t.xp6(9),t.Q6J("ngModel",e.details.title),t.xp6(2),t.Q6J("ngIf",o.submitted&&r.invalid),t.xp6(4),t.Q6J("ngModel",e.details.description),t.xp6(2),t.Q6J("ngIf",o.submitted&&d.invalid),t.xp6(2),t.Q6J("ngIf",e.details.startdate),t.xp6(1),t.Q6J("initialBreakpoint",.5)("breakpoints",t.DdM(20,_)),t.xp6(3),t.Q6J("ngIf",e.details.enddate),t.xp6(1),t.Q6J("isOpen",e.isPickerOpen)("initialBreakpoint",.5)("breakpoints",t.DdM(21,_)),t.xp6(5),t.Q6J("ngIf",0==e.details.image.length),t.xp6(1),t.Q6J("ngIf",0!=e.details.image.length),t.xp6(2),t.Q6J("ngIf",0==e.details.image.length),t.xp6(1),t.Q6J("ngIf",0!=e.details.image.length),t.xp6(1),t.Q6J("ngIf",e.error),t.xp6(4),t.Q6J("ngIf",e.flashlist.length>0)}},dependencies:[p.sg,p.O5,a.YG,a.Sm,a.W2,a.x4,a.Gu,a.gu,a.pK,a.Ie,a.Q$,a.q_,a.fG,a.g2,a.wd,a.sr,a.ki,a.QI,a.j9,g._Y,g.JJ,g.JL,g.Q7,g.On,g.F,A.X$],styles:[".icon-width[_ngcontent-%COMP%]{width:50px!important;height:50px!important}.table[_ngcontent-%COMP%]{font-size:11px!important}"]}),l})()}];let E=(()=>{var n;class l{}return(n=l).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(j),m.Bz]}),l})(),L=(()=>{var n;class l{}return(n=l).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,a.Pc,f.b,g.u5,E,u.Rl]}),l})()}}]);