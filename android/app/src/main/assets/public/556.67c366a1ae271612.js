"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[556],{556:(Dt,u,c)=>{c.r(u),c.d(u,{StaffGroupModule:()=>kt});var d=c(6814),p=c(6223),_=c(9843),h=c(1021),m=c(612),Z=c(2629),f=c(9068),g=c(5861),t=c(5879),v=c(2341),b=c(6460),C=c(9716),T=c(9322),S=c(465),A=c(6593),G=c(6101),w=c(723),J=c(1243),k=c(9692),M=c(3999);const q=["portComponent"],I=["portComponent1"];function U(i,l){1&i&&(t.TgZ(0,"ion-header",42)(1,"ion-toolbar")(2,"ion-buttons",43)(3,"ion-menu-button"),t._UZ(4,"ion-icon",41),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Staff Group"),t.qZA()()()),2&i&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("ios","menu-sharp")("md","menu-sharp"))}function N(i,l){1&i&&(t.TgZ(0,"ion-header",44)(1,"ion-toolbar",45)(2,"ion-buttons",43)(3,"ion-menu-button"),t._UZ(4,"ion-icon",46),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Staff"),t.qZA()()()),2&i&&(t.xp6(4),t.Q6J("ios","menu-sharp")("md","menu-sharp"))}function y(i,l){if(1&i&&(t.TgZ(0,"div",47),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.hij(" ",o.formatPorts1(o.select_datas.stafftypes)," ")}}function Q(i,l){1&i&&t._UZ(0,"ion-icon",48),2&i&&t.Q6J("md","close-circle")("ios","close-circle")}function Y(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"ion-toolbar")(1,"ion-row")(2,"ion-col",49)(3,"ion-button",50),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleItems(!0))}),t._uU(4," Select All "),t.qZA()(),t.TgZ(5,"ion-col",49)(6,"ion-button",50),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleItems(!1))}),t._uU(7," Deselect All "),t.qZA()(),t.TgZ(8,"ion-col",49)(9,"ion-button",50),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.confirm())}),t._uU(10," OK "),t.qZA()()()()}2&i&&(t.xp6(2),t.Q6J("size",4),t.xp6(3),t.Q6J("size",4),t.xp6(3),t.Q6J("size",4))}function D(i,l){1&i&&(t.TgZ(0,"span",51),t._uU(1,"Select Staff Types"),t.qZA())}function H(i,l){if(1&i&&(t.TgZ(0,"ion-label",52)(1,"span",53),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",54),t._uU(5),t.qZA()()),2&i){const o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"date")),t.xp6(3),t.hij(" ",o.formatDate(o.select_datas.s_date),"")}}function F(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",43)(3,"ion-button",55),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.cancel_date())}),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"ion-title"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"ion-buttons",56)(10,"ion-button",57),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.confirm_date())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.TgZ(13,"ion-content",58)(14,"ion-datetime",59,60),t.NdJ("ngModelChange",function(n){t.CHM(o);const s=t.oxw();return t.KtG(s.select_datas.s_date=n)})("ionChange",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.showHideDatePicker())}),t.qZA()()}if(2&i){const o=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"cancel")),t.xp6(3),t.Oqu(t.lcZ(8,7,"select_date")),t.xp6(3),t.Q6J("strong",!0),t.xp6(1),t.Oqu(t.lcZ(12,9,"confirm")),t.xp6(3),t.Q6J("ngModel",o.select_datas.s_date)}}function O(i,l){1&i&&(t.TgZ(0,"span",51),t._uU(1,"Enter Message"),t.qZA())}function L(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",61)(1,"img",62),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.open())}),t.qZA()()}}function K(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"img",67),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.startRecord())}),t.qZA()}}function $(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"span",68),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.startRecord())}),t._uU(1," Start"),t.qZA()}}function j(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"img",69),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.stopRecord())}),t.qZA()}}function E(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"span",70),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.stopRecord())}),t._uU(1," Stop"),t.qZA()}}function P(i,l){if(1&i&&(t.TgZ(0,"div",61),t.YNc(1,K,1,0,"img",63),t.YNc(2,$,2,0,"span",64),t.YNc(3,j,1,0,"img",65),t.YNc(4,E,2,0,"span",66),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.recording),t.xp6(1),t.Q6J("ngIf",!o.recording),t.xp6(1),t.Q6J("ngIf",o.recording),t.xp6(1),t.Q6J("ngIf",o.recording)}}function R(i,l){if(1&i&&(t.TgZ(0,"div",71),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.hij(" ",o.select_datas.filename," ")}}function z(i,l){if(1&i&&(t.TgZ(0,"div",71)(1,"audio",72),t._UZ(2,"source",73),t.qZA()()),2&i){const o=t.oxw();t.xp6(2),t.Q6J("src",o.select_datas.image,t.LSH)}}function B(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",74)(1,"button",75),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.deletefile())}),t._UZ(2,"ion-icon",41),t.qZA()()}2&i&&(t.xp6(2),t.Q6J("ios","trash-sharp")("md","trash-sharp"))}function V(i,l){1&i&&(t.TgZ(0,"div",76),t._uU(1," only allow jpg, jpeg, png, pdf, mp3, xls, xlsx. "),t.qZA())}function W(i,l){1&i&&t._UZ(0,"br")}function X(i,l){if(1&i&&t._UZ(0,"img",90),2&i){const o=t.oxw().$implicit;t.Q6J("src",o.event_image,t.LSH)}}function tt(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",91)(1,"div",92),t._uU(2),t.qZA(),t.TgZ(3,"div",92)(4,"button",93),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.authservice.open(n.event_image))}),t._UZ(5,"img",94),t._uU(6," Download "),t.qZA()()()}if(2&i){const o=t.oxw().$implicit,e=t.oxw();t.xp6(2),t.hij(" ",e.getfilename(o.event_image)," ")}}function et(i,l){if(1&i&&(t.TgZ(0,"div")(1,"audio",72),t._UZ(2,"source",73),t.qZA()()),2&i){const o=t.oxw().$implicit;t.xp6(2),t.s9C("src",o.event_image,t.LSH)}}function nt(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"div",80),t._uU(4),t.qZA(),t.TgZ(5,"div",81)(6,"button",82)(7,"ion-icon",83),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.movegrouptofinal([{id:s.ID}]))}),t.qZA()(),t.TgZ(8,"button",84),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.deletecirculars(s.ID))}),t._UZ(9,"ion-icon",85),t.qZA()()()(),t.TgZ(10,"div",86),t._uU(11),t.YNc(12,W,1,0,"br",87),t.YNc(13,X,1,1,"img",88),t.YNc(14,tt,7,1,"div",89),t.YNc(15,et,3,1,"div",87),t.qZA()()}if(2&i){const o=l.$implicit,e=t.oxw();t.xp6(4),t.hij(" ",o.Group_name," "),t.xp6(3),t.Q6J("md","send-sharp"),t.xp6(2),t.Q6J("md","trash-sharp"),t.xp6(2),t.hij(" ",o.message," "),t.xp6(1),t.Q6J("ngIf",o.event_image&&o.event_image.length>0),t.xp6(1),t.Q6J("ngIf",e.checkimage(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkpdf(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkmp3(o.event_image))}}function it(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",4)(1,"div",6)(2,"button",95),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.moveFinalgroupAll())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"send_aLl_messages")," "))}function ot(i,l){1&i&&t._UZ(0,"br")}function st(i,l){if(1&i&&t._UZ(0,"img",90),2&i){const o=t.oxw().$implicit;t.Q6J("src",o.event_image,t.LSH)}}function at(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",91)(1,"div",92),t._uU(2),t.qZA(),t.TgZ(3,"div",92)(4,"button",93),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.authservice.open(n.event_image))}),t._UZ(5,"img",94),t._uU(6," Download "),t.qZA()()()}if(2&i){const o=t.oxw().$implicit,e=t.oxw(3);t.xp6(2),t.hij(" ",e.getfilename(o.event_image)," ")}}function lt(i,l){if(1&i&&(t.TgZ(0,"div")(1,"audio",72),t._UZ(2,"source",73),t.qZA()()),2&i){const o=t.oxw().$implicit;t.xp6(2),t.s9C("src",o.event_image,t.LSH)}}function rt(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",101),t._uU(4),t.YNc(5,ot,1,0,"br",87),t.YNc(6,st,1,1,"img",88),t.YNc(7,at,7,1,"div",89),t.YNc(8,lt,3,1,"div",87),t.qZA(),t.TgZ(9,"td")(10,"button",84),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.deletecirculars1(s.ID))}),t._UZ(11,"ion-icon",85),t.qZA()(),t.TgZ(12,"td")(13,"button",102),t.NdJ("click",function(){const n=t.CHM(o),s=n.$implicit,a=n.index,r=t.oxw(3);return t.KtG(r.toggleMessage(s.ID,s.message,a))}),t._UZ(14,"ion-icon",103),t.qZA()(),t.TgZ(15,"td")(16,"button",84),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.deletecirculars1(s.ID))}),t._UZ(17,"ion-icon",85),t.qZA()()()}if(2&i){const o=l.$implicit,e=t.oxw(3);t.xp6(2),t.Oqu(o.Group_name),t.xp6(2),t.hij(" ",o.message," "),t.xp6(1),t.Q6J("ngIf",o.event_image&&o.event_image.length>0),t.xp6(1),t.Q6J("ngIf",e.checkimage(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkpdf(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkmp3(o.event_image)),t.xp6(3),t.Q6J("md","trash-sharp"),t.xp6(3),t.Q6J("md","create-outline"),t.xp6(3),t.Q6J("md","trash-sharp")}}function ct(i,l){if(1&i&&(t.TgZ(0,"table",98)(1,"thead")(2,"tr")(3,"th",99),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"delete"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Edit"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"View"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,rt,18,9,"tr",100),t.qZA()()),2&i){const o=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,3,"name")),t.xp6(3),t.Oqu(t.lcZ(8,5,"message")),t.xp6(9),t.Q6J("ngForOf",o.senditems)}}function _t(i,l){if(1&i&&(t.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"div",80),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",96),t.YNc(7,ct,17,7,"table",97),t.qZA()()),2&i){const o=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,2,"sended_message")," "),t.xp6(3),t.Q6J("ngIf",o.senditems.length)}}function pt(i,l){1&i&&t._UZ(0,"br")}function dt(i,l){if(1&i&&t._UZ(0,"img",90),2&i){const o=t.oxw().$implicit;t.Q6J("src",o.event_image,t.LSH)}}function mt(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",91)(1,"div",92),t._uU(2),t.qZA(),t.TgZ(3,"div",92)(4,"button",93),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.authservice.open(n.event_image))}),t._UZ(5,"img",94),t._uU(6," Download "),t.qZA()()()}if(2&i){const o=t.oxw().$implicit,e=t.oxw(3);t.xp6(2),t.hij(" ",e.getfilename(o.event_image)," ")}}function ft(i,l){if(1&i&&(t.TgZ(0,"div")(1,"audio",72),t._UZ(2,"source",73),t.qZA()()),2&i){const o=t.oxw().$implicit;t.xp6(2),t.s9C("src",o.event_image,t.LSH)}}function gt(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",101),t._uU(4),t.YNc(5,pt,1,0,"br",87),t.YNc(6,dt,1,1,"img",88),t.YNc(7,mt,7,1,"div",89),t.YNc(8,ft,3,1,"div",87),t.qZA(),t.TgZ(9,"td")(10,"button",84),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.deletecirculars1(s.ID))}),t._UZ(11,"ion-icon",85),t.qZA()(),t.TgZ(12,"td")(13,"button",102),t.NdJ("click",function(){const n=t.CHM(o),s=n.$implicit,a=n.index,r=t.oxw(3);return t.KtG(r.toggleMessage(s.ID,s.message,a))}),t._UZ(14,"ion-icon",103),t.qZA()(),t.TgZ(15,"td")(16,"button",84),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.deletecirculars1(s.ID))}),t._UZ(17,"ion-icon",85),t.qZA()()()}if(2&i){const o=l.$implicit,e=t.oxw(3);t.xp6(2),t.Oqu(o.Group_name),t.xp6(2),t.hij(" ",o.message," "),t.xp6(1),t.Q6J("ngIf",o.event_image&&o.event_image.length>0),t.xp6(1),t.Q6J("ngIf",e.checkimage(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkpdf(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkmp3(o.event_image)),t.xp6(3),t.Q6J("md","trash-sharp"),t.xp6(3),t.Q6J("md","create-outline"),t.xp6(3),t.Q6J("md","trash-sharp")}}function ut(i,l){if(1&i&&(t.TgZ(0,"table",98)(1,"thead")(2,"tr")(3,"th",99),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"delete"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Edit"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"View"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,gt,18,9,"tr",100),t.qZA()()),2&i){const o=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,3,"name")),t.xp6(3),t.Oqu(t.lcZ(8,5,"message")),t.xp6(9),t.Q6J("ngForOf",o.last3days)}}function ht(i,l){if(1&i&&(t.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"div",80),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",96),t.YNc(7,ut,17,7,"table",97),t.qZA()()),2&i){const o=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,2,"sended_message")," "),t.xp6(3),t.Q6J("ngIf",o.last3days.length)}}function xt(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"ion-label",104),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleDateSelection())}),t._uU(1),t.qZA()}if(2&i){const o=t.oxw();t.xp6(1),t.hij(" ",o.formatDate(o.select_datas1.s_date)," ")}}function Zt(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",43)(3,"ion-button",55),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleDateSelection())}),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"ion-title"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"ion-buttons",56)(10,"ion-button",57),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.toggleDateSelection())}),t._uU(11),t.ALo(12,"translate"),t.qZA()()()(),t.TgZ(13,"ion-content",58)(14,"ion-datetime",59,60),t.NdJ("ngModelChange",function(n){t.CHM(o);const s=t.oxw();return t.KtG(s.select_datas1.s_date=n)})("ionChange",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.showHideDatePicker())}),t.qZA()()}if(2&i){const o=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"cancel")),t.xp6(3),t.Oqu(t.lcZ(8,7,"select_date")),t.xp6(3),t.Q6J("strong",!0),t.xp6(1),t.Oqu(t.lcZ(12,9,"confirm")),t.xp6(3),t.Q6J("ngModel",o.select_datas1.s_date)}}function vt(i,l){1&i&&t._UZ(0,"br")}function bt(i,l){if(1&i&&t._UZ(0,"img",90),2&i){const o=t.oxw().$implicit;t.Q6J("src",o.event_image,t.LSH)}}function Ct(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"div",91)(1,"div",92),t._uU(2),t.qZA(),t.TgZ(3,"div",92)(4,"button",93),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.authservice.open(n.event_image))}),t._UZ(5,"img",94),t._uU(6," Download "),t.qZA()()()}if(2&i){const o=t.oxw().$implicit,e=t.oxw(3);t.xp6(2),t.hij(" ",e.getfilename(o.event_image)," ")}}function Tt(i,l){if(1&i&&(t.TgZ(0,"div")(1,"audio",72),t._UZ(2,"source",73),t.qZA()()),2&i){const o=t.oxw().$implicit;t.xp6(2),t.s9C("src",o.event_image,t.LSH)}}function St(i,l){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",101),t._uU(4),t.YNc(5,vt,1,0,"br",87),t.YNc(6,bt,1,1,"img",88),t.YNc(7,Ct,7,1,"div",89),t.YNc(8,Tt,3,1,"div",87),t.qZA(),t.TgZ(9,"td")(10,"button",84),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.deletecirculars1(s.ID))}),t._UZ(11,"ion-icon",85),t.qZA()(),t.TgZ(12,"td")(13,"button",102),t.NdJ("click",function(){const n=t.CHM(o),s=n.$implicit,a=n.index,r=t.oxw(3);return t.KtG(r.toggleMessage(s.ID,s.message,a))}),t._UZ(14,"ion-icon",103),t.qZA()(),t.TgZ(15,"td")(16,"button",84),t.NdJ("click",function(){const s=t.CHM(o).$implicit,a=t.oxw(3);return t.KtG(a.deletecirculars1(s.ID))}),t._UZ(17,"ion-icon",85),t.qZA()()()}if(2&i){const o=l.$implicit,e=t.oxw(3);t.xp6(2),t.Oqu(o.Group_name),t.xp6(2),t.hij(" ",o.message," "),t.xp6(1),t.Q6J("ngIf",o.event_image&&o.event_image.length>0),t.xp6(1),t.Q6J("ngIf",e.checkimage(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkpdf(o.event_image)),t.xp6(1),t.Q6J("ngIf",e.checkmp3(o.event_image)),t.xp6(3),t.Q6J("md","trash-sharp"),t.xp6(3),t.Q6J("md","create-outline"),t.xp6(3),t.Q6J("md","trash-sharp")}}function At(i,l){if(1&i&&(t.TgZ(0,"table",98)(1,"thead")(2,"tr")(3,"th",99),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"delete"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Edit"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"View"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,St,18,9,"tr",100),t.qZA()()),2&i){const o=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,3,"name")),t.xp6(3),t.Oqu(t.lcZ(8,5,"message")),t.xp6(9),t.Q6J("ngForOf",o.senditems1)}}function Gt(i,l){if(1&i&&(t.TgZ(0,"div",77)(1,"div",78)(2,"div",79)(3,"div",80),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",96),t.YNc(7,At,17,7,"table",97),t.qZA()()),2&i){const o=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,2,"sended_message")," "),t.xp6(3),t.Q6J("ngIf",o.senditems1.length)}}const x=function(){return[0,.25,.5,.75]},wt=[{path:"",component:(()=>{var i;class l{constructor(e,n,s,a,r,Mt,qt,It,Ut,Nt,yt,Qt,Yt){this.serfile=e,this.media=n,this.fileChooser=s,this.filePath=a,this.base64=r,this.sanitizer=Mt,this.alertCtrl=qt,this.storage=It,this.platform=Ut,this.router=Nt,this.translate=yt,this.loading=Qt,this.authservice=Yt,this.ios=!1,this.stafftypes=[],this.staffs=[],this.select_datas={},this.select_datas1={},this.senditems=[],this.grpmes=[],this.senditems1=[],this.last3days=[],this.error=!1,this.recording=!1,this.showDatePicker=!1,this.isPickerOpen=!1,this.isEditMessageOpen=!1,this.platform.backButton.subscribe(()=>{this.router.navigate(["/dashboard"])})}ngOnInit(){this.ios=this.authservice.isiso(),this.translate.set(),this.translate.getparam("delete_personalized").then(e=>this.delete_personalized=e),this.translate.getparam("cancel").then(e=>this.cancel=e),this.translate.getparam("send_personalized").then(e=>this.send_personalized=e),this.translate.getparam("send").then(e=>this.send=e),this.translate.getparam("delete").then(e=>this.delete=e),this.select_datas1.s_date=(new Date).toISOString(),this.reset(),this.getstafftypes()}reset(){this.select_datas.s_date=(new Date).toISOString(),this.select_datas.type="STAFFGROUP",this.select_datas.staff_id=this.storage.getjson("teachersDetail")[0].staff_id,this.select_datas.Is_Admin=this.storage.getjson("teachersDetail")[0].Is_Admin,this.select_datas.image="",this.select_datas.ftype="",this.select_datas.filename="",this.getlist()}getstafftypes(){this.loading.present(),this.authservice.post("getstafftype",{}).subscribe(e=>{this.loading.dismissAll(),e.status&&(this.stafftypes=e.data)},e=>{this.loading.dismissAll(),console.log(e)})}toggleItems(e){e?(this.portComponent.toggleItems(!1),this.portComponent.toggleItems(e),this.confirm()):this.portComponent.toggleItems(e)}confirm(){this.portComponent.confirm(),this.portComponent.close()}toggleItems1(e){e?(this.portComponent1.toggleItems(!1),this.portComponent1.toggleItems(e),this.confirm1()):this.portComponent1.toggleItems(e)}confirm1(){this.portComponent1.confirm(),this.portComponent1.close()}getlist(){this.loading.present(),this.authservice.post("getgroupMessageStaff",{Is_Admin:this.storage.getjson("teachersDetail")[0].Is_Admin,staff_id:this.storage.getjson("teachersDetail")[0].staff_id,type:"PERSONALIZE",classid:this.authservice.classids()}).subscribe(e=>{this.loading.dismissAll(),e.status?(this.grpmes=e.data,this.senditems=e.senditem,this.last3days=e.last3senditem):(this.grpmes=[],this.senditems=[],this.last3days=[])},e=>{this.loading.dismissAll(),console.log(e)})}onSubmit(e){this.select_datas.stafftypes.length&&(console.log(this.select_datas),this.loading.present(),this.authservice.post("saveMessageStaff",this.select_datas).subscribe(n=>{this.loading.dismissAll(),n.status&&(e.resetForm(),this.reset())},n=>{this.loading.dismissAll(),console.log(n)}))}deletecirculars(e){var n=this;return(0,g.Z)(function*(){yield(yield n.alertCtrl.create({header:n.delete_personalized,buttons:[{text:n.cancel,role:"cancel",handler:a=>{console.log("Cancel clicked")}},{text:n.delete,handler:a=>{n.loading.present(),n.authservice.post("deletecirculars",{id:e}).subscribe(r=>{n.loading.dismissAll(),n.getlist()},r=>{n.loading.dismissAll()})}}]})).present()})()}movegrouptofinal(e){var n=this;return(0,g.Z)(function*(){yield(yield n.alertCtrl.create({header:n.send_personalized,buttons:[{text:n.cancel,role:"cancel",handler:a=>{console.log("Cancel clicked")}},{text:n.send,handler:a=>{n.loading.present(),n.authservice.post("movegrouptofinalStaff",{ids:e,msgtype:"STAFFPERSONAL"}).subscribe(r=>{n.loading.dismissAll(),n.getlist()},r=>{n.loading.dismissAll()})}}]})).present()})()}moveFinalgroupAll(){let e=[];for(let n=0;n<this.grpmes.length;n++)e.push({id:this.grpmes[n].ID});this.movegrouptofinal(e)}open(){this.fileChooser.open().then(e=>{console.log(e),this.filePath.resolveNativePath(e).then(n=>{let s=n.split("/");this.select_datas.filename=s[s.length-1].toLowerCase();let a=n.split(".");console.log(a),a=a[a.length-1].toLowerCase(),"jpg"==a||"jpeg"==a||"png"==a||"pdf"==a||"mp3"==a||"xls"==a||"xlsx"==a?(this.select_datas.ftype=a,this.error=!1,a="mp3"==a?"data:audio/mpeg;base64,":`data:image/${a};base64,`,this.base64.encodeFile(n).then(r=>{this.select_datas.image=this.sanitizer.bypassSecurityTrustUrl(a+r.split("ase64,")[1])},r=>{console.log(r)})):this.error=!0},n=>{console.log(n)})}).catch(e=>console.log(e))}checkimage(e){return!e||(e=(e=e.split("."))[e.length-1].toLowerCase(),console.log(e),"pdf"!=e&&"mp3"!=e&&"xls"!=e&&"xlsx"!=e)}checkmp3(e){return!!e&&"mp3"==(e=e.split("."))[e.length-1].toLowerCase()}checkxls(e){return!!e&&("xls"==(e=(e=e.split("."))[e.length-1].toLowerCase())||"xlsx"==e)}checkpdf(e){return!!e&&"pdf"==(e=e.split("."))[e.length-1].toLowerCase()}getfilename(e){return(e=e.split("/"))[e.length-1]}startRecord(){this.fileName="record"+(new Date).getDate()+(new Date).getMonth()+(new Date).getFullYear()+(new Date).getHours()+(new Date).getMinutes()+(new Date).getSeconds()+".mp3",this.Path=this.serfile.filepath()+this.fileName,console.log(this.Path),this.audio=this.media.create(this.Path),this.select_datas.ftype="",this.select_datas.image="",this.select_datas.filename="",this.audio.startRecord(),this.recording=!0}stopRecord(){this.audio.stopRecord(),this.recording=!1,this.serfile.read(this.fileName).then(e=>{console.log(e);let n=e.split("base64,");0!=n[1].length&&(this.select_datas.ftype="mp3",this.select_datas.filename=this.fileName,this.error=!1,this.select_datas.image=this.sanitizer.bypassSecurityTrustUrl("data:audio/mpeg;base64,"+n[1]))},e=>{console.log(e)})}deletefile(){this.select_datas.ftype="",this.select_datas.image="",this.select_datas.filename=""}formatPorts(e){return e.map(n=>n.name).join(", ")}formatPorts1(e){return e.map(n=>n.staffclass).join(", ")}onSubmit1(){this.loading.present(),this.authservice.post("searchgroupMessageStaff",{Is_Admin:this.storage.getjson("teachersDetail")[0].Is_Admin,s_date:this.select_datas1.s_date}).subscribe(e=>{this.loading.dismissAll(),this.senditems1=e.status?e.senditem:[]},e=>{this.loading.dismissAll(),console.log(e)})}showHideDatePicker(){this.showDatePicker=!this.showDatePicker}formatDate(e=new Date){const n=new Date(e),s=n.getFullYear();let a=`${n.getMonth()+1}`,r=`${n.getDate()}`;return+r<10&&(r="0"+r),+a<10&&(a="0"+a),r+"/"+a+"/"+s}cancel_date(){this.modal.dismiss(null,"confirm")}confirm_date(){console.log("confirm"),this.modal.dismiss(null,"confirm")}toggleDateSelection(){this.isPickerOpen=!this.isPickerOpen}onWillDismiss(e,n){"cancel"===e.detail.role&&("first"==n?this.select_datas.s_date=null:this.select_datas1.s_date=null)}toggleMessage(e,n,s){console.log("toggle",e),"cancel"!=e&&"confirm"!=e&&(this.index=s,this.messageId=e,this.messageText=n),"confirm"==e&&(console.log("message id",this.index),this.last3days[this.index].message=this.messageText,this.editMessage(this.messageId,this.messageText)),this.isEditMessageOpen=!this.isEditMessageOpen}editMessage(e,n){this.loading.present(),this.authservice.post("editMessage",{messageId:e,messageText:n}).subscribe(s=>{this.loading.dismissAll(),s.status&&this.getlist()},s=>{this.loading.dismissAll(),console.log(s)})}deletecirculars1(e){var n=this;return(0,g.Z)(function*(){yield(yield n.alertCtrl.create({header:n.delete_personalized,buttons:[{text:n.cancel,role:"cancel",handler:a=>{console.log("Cancel clicked")}},{text:n.delete,handler:a=>{n.loading.present(),n.authservice.post("senddeletepersonalmessagelist",{ID:e}).subscribe(r=>{n.loading.dismissAll(),n.getlist()},r=>{n.loading.dismissAll()})}}]})).present()})()}}return(i=l).\u0275fac=function(e){return new(e||i)(t.Y36(v.n),t.Y36(b.pU),t.Y36(C.M),t.Y36(T.y),t.Y36(S.D),t.Y36(A.H7),t.Y36(_.Br),t.Y36(G.V),t.Y36(_.t4),t.Y36(f.F0),t.Y36(w.w),t.Y36(J.b),t.Y36(k.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-staff-group"]],viewQuery:function(e,n){if(1&e&&(t.Gf(q,5),t.Gf(I,5),t.Gf(_.ki,5)),2&e){let s;t.iGM(s=t.CRH())&&(n.portComponent=s.first),t.iGM(s=t.CRH())&&(n.portComponent1=s.first),t.iGM(s=t.CRH())&&(n.modal=s.first)}},decls:66,vars:41,consts:[[3,"translucent",4,"ngIf"],[3,"fullscreen"],["collapse","condense","class","mt-4",4,"ngIf"],[1,"staff"],[1,""],[1,"card-header"],[1,"card-body","card_body"],["name","form","novalidate","",1,"border","border-primary",3,"ngSubmit"],["f","ngForm"],["name","stafftype","item-content","","itemValueField","staffclass","itemTextField","staffclass","required","",3,"ngModel","items","canSearch","hasVirtualScroll","isMultiple","ngModelChange"],["portComponent","","stafftype","ngModel"],["ionicSelectableValueTemplate",""],["ionicSelectableCloseButtonTemplate",""],["ionicSelectableFooterTemplate",""],["class","text-danger",4,"ngIf"],["lines","full"],["id","open-modal","class","selected-date",4,"ngIf"],["trigger","open-modal","animated","true",3,"initialBreakpoint","breakpoints","willDismiss"],["type","text","name","message","placeholder","Type Here",3,"ngModel","required","ngModelChange"],["message","ngModel"],[1,"row","w-100","align-items-center","text-center"],["class","col-6",4,"ngIf"],["class","col-10",4,"ngIf"],["class","col-2",4,"ngIf"],["class","col-12 text-danger",4,"ngIf"],[1,"p-1"],["type","submit",1,"btn","btn-primary"],["class","cardlist",4,"ngFor","ngForOf"],["class","",4,"ngIf"],[1,"m-3"],["heading","Today"],["class","cardlist",4,"ngIf"],["heading","Last 3 Days"],["heading","Search By Date"],["f1","ngForm"],[1,"row","text-center","align-items-center"],[1,"col-8"],["id","open-modal1","class","selected-date",3,"click",4,"ngIf"],["animated","true",3,"isOpen","initialBreakpoint","breakpoints","willDismiss"],[1,"col-4"],["type","button",1,"btn","btn-success",3,"click"],[3,"ios","md"],[3,"translucent"],["slot","start"],["collapse","condense",1,"mt-4"],[1,"p-0"],[1,"text-white",3,"ios","md"],[1,"ionic-selectable-value-item"],[2,"font-size","24px",3,"md","ios"],[3,"size"],["expand","full",3,"click"],[1,"text-danger"],["id","open-modal",1,"selected-date"],[2,"float","left"],[2,"float","right"],[3,"click"],["slot","end"],[3,"strong","click"],[1,"ion-padding"],["name","dob","displayFormat","DD/MM/YYYY","pickerFormat","DD/MM/YYYY","presentation","date","mode","md","required","",3,"ngModel","ngModelChange","ionChange"],["dob","ngModel","datetime",""],[1,"col-6"],["alt","","src","../../assets/imgs/speakers/attachment.png",2,"width","30px",3,"click"],["alt","","style","\n                    width: 30px;\n                    filter: invert(58%) sepia(16%) saturate(2009%)\n                      hue-rotate(81deg) brightness(88%) contrast(86%);\n                  ","src","../../assets/imgs/speakers/microphone.png",3,"click",4,"ngIf"],["class","text-success",3,"click",4,"ngIf"],["alt","","style","\n                    width: 30px;\n                    filter: invert(13%) sepia(100%) saturate(6859%)\n                      hue-rotate(358deg) brightness(119%) contrast(120%);\n                  ","src","../../assets/imgs/speakers/microphone-off.png",3,"click",4,"ngIf"],["style","color: #ff0000",3,"click",4,"ngIf"],["alt","","src","../../assets/imgs/speakers/microphone.png",2,"width","30px","filter","invert(58%) sepia(16%) saturate(2009%)\n                      hue-rotate(81deg) brightness(88%) contrast(86%)",3,"click"],[1,"text-success",3,"click"],["alt","","src","../../assets/imgs/speakers/microphone-off.png",2,"width","30px","filter","invert(13%) sepia(100%) saturate(6859%)\n                      hue-rotate(358deg) brightness(119%) contrast(120%)",3,"click"],[2,"color","#ff0000",3,"click"],[1,"col-10"],["controls","","controlsList","noplaybackrate nodownload",1,"w-100"],["type","audio/mpeg",3,"src"],[1,"col-2"],["type","button",1,"btn","btn-danger",3,"click"],[1,"col-12","text-danger"],[1,"cardlist"],[1,"card-header","py-1"],[1,"row","align-items-center"],[1,"col"],[1,"col","text-right"],["type","button",1,"btn","bg-white","mx-1"],[1,"text-success",3,"md","click"],["type","button",1,"btn","bg-white","ml-1",3,"click"],[1,"text-danger",3,"md"],[1,"card-body","card_body","border","border-primary","multi_lines_text"],[4,"ngIf"],["alt","","class","w-100",3,"src",4,"ngIf"],["class","row w-100 align-items-center m-0 p-0",4,"ngIf"],["alt","",1,"w-100",3,"src"],[1,"row","w-100","align-items-center","m-0","p-0"],[1,"col-12"],["type","button",1,"btn","btn-primary","m-0","px-0",3,"click"],["src","../../assets/imgs/speakers/pdf.png",1,"logo_img"],["type","button",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"card-body","card_body","border","border-primary","p-0","bodytable","table-responsive"],["class","table table-bordered",4,"ngIf"],[1,"table","table-bordered"],[2,"width","40%"],[4,"ngFor","ngForOf"],[1,"multi_lines_text"],[1,"btn","bg-white","ml-1",3,"click"],[1,"text-black",3,"md"],["id","open-modal1",1,"selected-date",3,"click"]],template:function(e,n){if(1&e){const s=t.EpF();t.YNc(0,U,7,3,"ion-header",0),t.TgZ(1,"ion-content",1),t.YNc(2,N,7,2,"ion-header",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6,"Send Message to Staff"),t.qZA(),t.TgZ(7,"div",6)(8,"form",7,8),t.NdJ("ngSubmit",function(){t.CHM(s);const r=t.MAs(9);return t.KtG(r.form.valid&&n.onSubmit(r))}),t.TgZ(10,"ion-item")(11,"ion-label"),t._uU(12,"Staff Types"),t.qZA(),t.TgZ(13,"ionic-selectable",9,10),t.NdJ("ngModelChange",function(r){return n.select_datas.stafftypes=r}),t.YNc(16,y,2,1,"ng-template",11),t.YNc(17,Q,1,2,"ng-template",12),t.YNc(18,Y,11,3,"ng-template",13),t.qZA()(),t.YNc(19,D,2,0,"span",14),t.TgZ(20,"ion-item",15),t.YNc(21,H,6,4,"ion-label",16),t.TgZ(22,"ion-modal",17),t.NdJ("willDismiss",function(r){return n.onWillDismiss(r,"first")}),t.YNc(23,F,17,11,"ng-template"),t.qZA()(),t.TgZ(24,"ion-item")(25,"ion-label"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"ion-item",15)(29,"ion-textarea",18,19),t.NdJ("ngModelChange",function(r){return n.select_datas.message=r}),t.qZA()(),t.YNc(31,O,2,0,"span",14),t.TgZ(32,"ion-item",15)(33,"div",20),t.YNc(34,L,2,0,"div",21),t.YNc(35,P,5,4,"div",21),t.YNc(36,R,2,1,"div",22),t.YNc(37,z,3,1,"div",22),t.YNc(38,B,3,2,"div",23),t.YNc(39,V,2,0,"div",24),t.qZA()(),t.TgZ(40,"div",25)(41,"button",26),t._uU(42),t.ALo(43,"translate"),t.qZA()()()()(),t.YNc(44,nt,16,8,"div",27),t.YNc(45,it,5,3,"div",28),t.TgZ(46,"div",29)(47,"tabset")(48,"tab",30),t.YNc(49,_t,8,4,"div",31),t.qZA(),t.TgZ(50,"tab",32),t.YNc(51,ht,8,4,"div",31),t.qZA(),t.TgZ(52,"tab",33)(53,"form",7,34),t.NdJ("ngSubmit",function(){t.CHM(s);const r=t.MAs(9);return t.KtG(r.form.valid&&n.onSubmit1())}),t.TgZ(55,"div",35)(56,"div",36)(57,"ion-item",15),t.YNc(58,xt,2,1,"ion-label",37),t.TgZ(59,"ion-modal",38),t.NdJ("willDismiss",function(r){return n.onWillDismiss(r,"second")}),t.YNc(60,Zt,17,11,"ng-template"),t.qZA()()(),t.TgZ(61,"div",39)(62,"button",40),t.NdJ("click",function(){return n.onSubmit1()}),t._uU(63," Get "),t._UZ(64,"ion-icon",41),t.qZA()()()(),t.YNc(65,Gt,8,4,"div",31),t.qZA()()()()()}if(2&e){const s=t.MAs(9),a=t.MAs(15),r=t.MAs(30);t.Q6J("ngIf",!n.ios),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("ngIf",n.ios),t.xp6(11),t.Q6J("ngModel",n.select_datas.stafftypes)("items",n.stafftypes)("canSearch",!0)("hasVirtualScroll",!0)("canSearch",!0)("isMultiple",!0),t.xp6(6),t.Q6J("ngIf",s.submitted&&a.invalid),t.xp6(2),t.Q6J("ngIf",n.select_datas.s_date),t.xp6(1),t.Q6J("initialBreakpoint",.5)("breakpoints",t.DdM(39,x)),t.xp6(4),t.Oqu(t.lcZ(27,35,"message")),t.xp6(3),t.Q6J("ngModel",n.select_datas.message)("required",0==n.select_datas.filename.length),t.xp6(2),t.Q6J("ngIf",s.submitted&&r.invalid),t.xp6(3),t.Q6J("ngIf",0==n.select_datas.filename.length),t.xp6(1),t.Q6J("ngIf",0==n.select_datas.filename.length),t.xp6(1),t.Q6J("ngIf",n.select_datas.filename.length>0&&"mp3"!=n.select_datas.ftype),t.xp6(1),t.Q6J("ngIf",n.select_datas.filename.length>0&&"mp3"==n.select_datas.ftype),t.xp6(1),t.Q6J("ngIf",n.select_datas.filename.length>0),t.xp6(1),t.Q6J("ngIf",n.error),t.xp6(3),t.hij(" ",t.lcZ(43,37,"save")," "),t.xp6(2),t.Q6J("ngForOf",n.grpmes),t.xp6(1),t.Q6J("ngIf",n.grpmes.length>0),t.xp6(4),t.Q6J("ngIf",n.senditems.length>0),t.xp6(2),t.Q6J("ngIf",n.last3days.length>0),t.xp6(7),t.Q6J("ngIf",n.select_datas1.s_date),t.xp6(1),t.Q6J("isOpen",n.isPickerOpen)("initialBreakpoint",.5)("breakpoints",t.DdM(40,x)),t.xp6(5),t.Q6J("ios","arrow-forward-sharp")("md","arrow-forward-sharp"),t.xp6(1),t.Q6J("ngIf",n.senditems1.length>0)}},dependencies:[d.sg,d.O5,_.YG,_.Sm,_.wI,_.W2,_.x4,_.Gu,_.gu,_.Ie,_.Q$,_.fG,_.Nd,_.g2,_.wd,_.sr,_.ki,_.QI,_.j9,h.Rl,p._Y,p.JJ,p.JL,p.Q7,p.On,p.F,m.wW,m.AH,M.X$],styles:[".staff[_ngcontent-%COMP%]   .icon-width[_ngcontent-%COMP%]{width:30px!important;height:30px!important}.staff[_ngcontent-%COMP%]   .card_body[_ngcontent-%COMP%]{padding-top:0!important;margin-left:5px!important;margin-right:5px!important}.staff[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:12px 12px 12px 20px!important}"]}),l})()}];let Jt=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.Bz.forChild(wt),f.Bz]}),l})(),kt=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,Jt,_.Pc,Z.b,h.Rl,p.u5,m.P4.forRoot()]}),l})()}}]);