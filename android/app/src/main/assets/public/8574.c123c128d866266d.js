"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8574],{8574:(G,p,r)=>{r.r(p),r.d(p,{ReportCardModule:()=>O});var g=r(6814),m=r(6223),c=r(9843),h=r(1021),_=r(2629),u=r(9068),e=r(5879),b=r(723),C=r(1243),f=r(9692),v=r(6101),x=r(3999);function T(t,a){1&t&&(e.TgZ(0,"ion-header",20)(1,"ion-toolbar")(2,"ion-buttons",21)(3,"ion-menu-button"),e._UZ(4,"ion-icon",22),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.ALo(7,"translate"),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("ios","menu-sharp")("md","menu-sharp"),e.xp6(2),e.Oqu(e.lcZ(7,4,"report-card")))}function M(t,a){1&t&&(e.TgZ(0,"ion-header",23)(1,"ion-toolbar",24)(2,"ion-buttons",21)(3,"ion-menu-button"),e._UZ(4,"ion-icon",25),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6),e.ALo(7,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ios","menu-sharp")("md","menu-sharp"),e.xp6(2),e.Oqu(e.lcZ(7,3,"report-card")))}function Z(t,a){1&t&&e._UZ(0,"ion-icon",26),2&t&&e.Q6J("md","close-circle")("ios","close-circle")}function A(t,a){1&t&&(e.TgZ(0,"span",27),e._uU(1,"Select Class"),e.qZA())}function R(t,a){1&t&&e._UZ(0,"ion-icon",26),2&t&&e.Q6J("md","close-circle")("ios","close-circle")}function I(t,a){1&t&&(e.TgZ(0,"span",27),e._uU(1,"Select Subject"),e.qZA())}function J(t,a){1&t&&e._UZ(0,"ion-icon",26),2&t&&e.Q6J("md","close-circle")("ios","close-circle")}function N(t,a){1&t&&(e.TgZ(0,"span",27),e._uU(1,"Select Exam"),e.qZA())}function j(t,a){1&t&&(e.TgZ(0,"div"),e._UZ(1,"hr",28),e.qZA())}function y(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.generate())}),e._uU(2,"Generate"),e.qZA()()}}function Q(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"div",35)(1,"div",36),e._uU(2),e.qZA(),e.TgZ(3,"div",36)(4,"input",37),e.NdJ("ngModelChange",function(s){const o=e.CHM(i).$implicit;return e.KtG(o.marks=s)}),e.qZA()(),e.TgZ(5,"div",36)(6,"input",38),e.NdJ("ngModelChange",function(s){const o=e.CHM(i).$implicit;return e.KtG(o.Grade=s)}),e.qZA()()()}if(2&t){const i=a.$implicit;e.xp6(2),e.Oqu(i.NAME),e.xp6(2),e.MGl("name","",i.Admission_Id,"mark"),e.Q6J("ngModel",i.marks),e.xp6(2),e.MGl("name","",i.Admission_Id,"grade"),e.Q6J("ngModel",i.Grade)}}function U(t,a){if(1&t&&(e.TgZ(0,"div",31)(1,"div",32)(2,"div",33),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"div",33),e._uU(5,"Mark"),e.qZA(),e.TgZ(6,"div",33),e._uU(7,"Grade"),e.qZA()(),e.YNc(8,Q,7,5,"div",34),e.qZA()),2&t){const i=e.oxw();e.xp6(8),e.Q6J("ngForOf",i.students)}}function S(t,a){1&t&&(e.TgZ(0,"div",39)(1,"button",40),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"save")))}const F=[{path:"",component:(()=>{var t;class a{constructor(n,s,d,o,l,Y){this.platform=n,this.router=s,this.translate=d,this.loading=o,this.authservice=l,this.storage=Y,this.ios=!1,this.classs=[],this.subjects=[],this.exams=[],this.students=[],this.select_datas={},this.clid="-1",this.g_btn=!1,this.platform.backButton.subscribe(()=>{this.router.navigate(["/dashboard"])})}ngOnInit(){this.ios=this.authservice.isiso(),this.translate.set(),this.classs=this.storage.getjson("classlist"),this.getallsubject(),this.getallexams(),this.exams=[{name:"Unit-I",id:"1"},{name:"UNIT II",id:"2"},{name:"UNIT III",id:"3"},{name:"Mid-I",id:"4"},{name:"Mid-II",id:"5"},{name:"Mid-III",id:"6"},{name:"Preparatory",id:"7"}]}classChange(n){this.select_datas.exams&&this.select_datas.subject&&(this.g_btn=!1,this.students=[],this.select_datas.student=[],this.checkbtn())}subjectChange(n){this.select_datas.class&&this.select_datas.exams&&(this.g_btn=!1,this.students=[],this.select_datas.student=[],this.checkbtn())}subjectExam(n){this.select_datas.class&&this.select_datas.subject&&(this.g_btn=!1,this.students=[],this.select_datas.student=[],this.checkbtn())}checkbtn(){let n={class_Id:this.select_datas.class.id,sub:this.select_datas.subject.name,examName:this.select_datas.exams.exam_type_name};this.loading.present(),this.authservice.post("EnableGenerateButton",n).subscribe(s=>{this.loading.dismissAll(),console.log(s),s.data.length>0&&0==Number(s.data[0].count)?this.g_btn=!0:(this.g_btn=!1,this.getGenerateMarksList())},s=>{this.loading.dismissAll(),console.log(s)})}generate(){let n={class_Id:this.select_datas.class.id,sub:this.select_datas.subject.name,examName:this.select_datas.exams.exam_type_name};this.loading.present(),this.authservice.post("generateMarksList",n).subscribe(s=>{this.loading.dismissAll(),console.log(s),s.status&&(this.g_btn=!1,this.getGenerateMarksList())},s=>{this.loading.dismissAll(),console.log(s)})}getGenerateMarksList(){let n={class_Id:this.select_datas.class.id,sub:this.select_datas.subject.name,examName:this.select_datas.exams.exam_type_name};this.loading.present(),this.authservice.post("getGenerateMarksList",n).subscribe(s=>{this.loading.dismissAll(),console.log(s),s.status?this.students=s.data:this.g_btn=!1},s=>{this.loading.dismissAll(),console.log(s)})}getStudentsByClass(n){if(console.log(this.select_datas),this.clid!=n){let s={class_Id:n};this.loading.present(),this.authservice.post("getStudentsByClass",s).subscribe(d=>{if(this.loading.dismissAll(),d.status){this.clid=n;for(let o=0;o<d.data.length;o++)this.students.push({class_id:this.select_datas.class.id,class_sec:this.select_datas.class.name,sub_name:this.select_datas.subject.name,sub_id:this.select_datas.subject.id,stu_name:d.data[o].name,adno:d.data[o].id,mark:"",maxmark:"",grade:""});console.log(this.students)}},d=>{this.loading.dismissAll(),console.log(d)})}}getallsubject(){this.loading.present(),this.authservice.get("getallsubject").subscribe(n=>{this.loading.dismissAll(),n.status&&(this.subjects=n.data)},n=>{this.loading.dismissAll(),console.log(n)})}getallexams(){this.loading.present(),this.authservice.get("getallExam").subscribe(n=>{this.loading.dismissAll(),n.status&&(this.exams=n.data)},n=>{this.loading.dismissAll(),console.log(n)})}onSubmit(n){console.log(),this.loading.present(),this.authservice.post("UpdateExamMarkList",{mark:this.students}).subscribe(s=>{this.loading.dismissAll(),console.log(s),s.status&&console.log(this.students)},s=>{this.loading.dismissAll(),console.log(s)})}}return(t=a).\u0275fac=function(n){return new(n||t)(e.Y36(c.t4),e.Y36(u.F0),e.Y36(b.w),e.Y36(C.b),e.Y36(f.e),e.Y36(v.V))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-report-card"]],decls:35,vars:25,consts:[[3,"translucent",4,"ngIf"],[3,"fullscreen"],["collapse","condense","class","mt-4",4,"ngIf"],[1,"reportcard"],[1,""],[1,"card-body","card_body"],["name","form","novalidate","",1,"border","border-primary",3,"ngSubmit"],["f","ngForm"],["name","class","item-content","","itemValueField","id","itemTextField","name","required","",3,"ngModel","items","canSearch","ngModelChange","onChange"],["class","ngModel"],["ionicSelectableCloseButtonTemplate",""],["class","text-danger",4,"ngIf"],["name","subject","item-content","","itemValueField","id","itemTextField","name","required","",3,"ngModel","items","canSearch","ngModelChange","onChange"],["subject","ngModel"],["name","exam","item-content","","itemValueField","exam_type_id","itemTextField","exam_type_name","required","",3,"ngModel","items","canSearch","ngModelChange","onChange"],["exam","ngModel"],[4,"ngIf"],["class","text-center",4,"ngIf"],["class","rTable",4,"ngIf"],["class","p-1 text-center",4,"ngIf"],[3,"translucent"],["slot","start"],[3,"ios","md"],["collapse","condense",1,"mt-4"],[1,"p-0"],[1,"text-white",3,"ios","md"],[2,"font-size","24px",3,"md","ios"],[1,"text-danger"],[1,"bg-info"],[1,"text-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"rTable"],[1,"rTableRow"],[1,"rTableHead"],["class","rTableRow","style","page-break-before:always;",4,"ngFor","ngForOf"],[1,"rTableRow",2,"page-break-before","always"],[1,"rTableCell"],["placeholder","Mark",1,"w-100",3,"name","ngModel","ngModelChange"],["placeholder","Grade",1,"w-100",3,"name","ngModel","ngModelChange"],[1,"p-1","text-center"],["type","submit",1,"btn","btn-primary"]],template:function(n,s){if(1&n){const d=e.EpF();e.YNc(0,T,8,6,"ion-header",0),e.TgZ(1,"ion-content",1),e.YNc(2,M,8,5,"ion-header",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(d);const l=e.MAs(7);return e.KtG(l.form.valid&&s.onSubmit(l))}),e.TgZ(8,"ion-item")(9,"ion-label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ionic-selectable",8,9),e.NdJ("ngModelChange",function(l){return s.select_datas.class=l})("onChange",function(l){return s.classChange(l)}),e.YNc(14,Z,1,2,"ng-template",10),e.qZA()(),e.YNc(15,A,2,0,"span",11),e.TgZ(16,"ion-item")(17,"ion-label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"ionic-selectable",12,13),e.NdJ("ngModelChange",function(l){return s.select_datas.subject=l})("onChange",function(l){return s.subjectChange(l)}),e.YNc(22,R,1,2,"ng-template",10),e.qZA()(),e.YNc(23,I,2,0,"span",11),e.TgZ(24,"ion-item")(25,"ion-label"),e._uU(26,"Select Exam"),e.qZA(),e.TgZ(27,"ionic-selectable",14,15),e.NdJ("ngModelChange",function(l){return s.select_datas.exams=l})("onChange",function(l){return s.subjectExam(l)}),e.YNc(29,J,1,2,"ng-template",10),e.qZA()(),e.YNc(30,N,2,0,"span",11),e.YNc(31,j,2,0,"div",16),e.YNc(32,y,3,0,"div",17),e.YNc(33,U,9,1,"div",18),e.YNc(34,S,4,3,"div",19),e.qZA()()()()()}if(2&n){const d=e.MAs(7),o=e.MAs(13),l=e.MAs(21);e.Q6J("ngIf",!s.ios),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",s.ios),e.xp6(8),e.Oqu(e.lcZ(11,21,"class")),e.xp6(2),e.Q6J("ngModel",s.select_datas.class)("items",s.classs)("canSearch",!0),e.xp6(3),e.Q6J("ngIf",d.submitted&&o.invalid),e.xp6(3),e.Oqu(e.lcZ(19,23,"subject")),e.xp6(2),e.Q6J("ngModel",s.select_datas.subject)("items",s.subjects)("canSearch",!0),e.xp6(3),e.Q6J("ngIf",d.submitted&&l.invalid),e.xp6(4),e.Q6J("ngModel",s.select_datas.exams)("items",s.exams)("canSearch",!0),e.xp6(3),e.Q6J("ngIf",d.submitted&&s.exams.invalid),e.xp6(1),e.Q6J("ngIf",s.students.length>0||s.g_btn),e.xp6(1),e.Q6J("ngIf",s.g_btn),e.xp6(1),e.Q6J("ngIf",s.students.length>0),e.xp6(1),e.Q6J("ngIf",s.students.length>0)}},dependencies:[g.sg,g.O5,c.Sm,c.W2,c.Gu,c.gu,c.Ie,c.Q$,c.fG,c.wd,c.sr,h.Rl,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.On,m.F,x.X$],styles:[".rTable[_ngcontent-%COMP%]{display:block;width:100%;font-size:10px}.rTableHeading[_ngcontent-%COMP%], .rTableBody[_ngcontent-%COMP%], .rTableFoot[_ngcontent-%COMP%], .rTableRow[_ngcontent-%COMP%]{clear:both}.rTableHead[_ngcontent-%COMP%], .rTableFoot[_ngcontent-%COMP%]{background-color:#ddd;font-weight:700}.rTableCell[_ngcontent-%COMP%], .rTableHead[_ngcontent-%COMP%]{border:1px solid #999999;float:left;height:40px;overflow:hidden;padding:3px 1.8%;width:33.3333333333%;box-sizing:border-box}"]}),a})()}];let q=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(F),u.Bz]}),a})(),O=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,q,c.Pc,_.b,h.Rl,m.u5]}),a})()}}]);